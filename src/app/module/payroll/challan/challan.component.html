<section class="card">
    <div class="card-body">
        <h5>Challan</h5>
        <div class="form-group row">
             <div class="col-lg-2">
                <label class="labelfont">Challan Type<span class="text-danger">*</span></label>
             </div>
             <div class="col-lg-3">
                <p-dropdown [options]="challanTypes" [(ngModel)]="challanType" [required]="true" optionLabel="key"
                optionValue="value" name="challanType" id="challanType" class="dropdwonPadding">
                </p-dropdown>
             </div>
             <div class="col-lg-2">
                <label class="labelfont">Month Year<span class="text-danger">*</span></label>
            </div>
            <div class="col-lg-3">
                <p-dropdown [options]="monthList" [(ngModel)]="month" [required]="true" optionLabel="key"
                    optionValue="value" name="month" id="month" class="dropdwonPadding">
                </p-dropdown>
                <p-dropdown [options]="yearList" [(ngModel)]="year" [required]="true" optionLabel="key"
                    optionValue="value" name="year" id="year" class="dropdwonPadding">
                </p-dropdown>
             </div>
             <div class="col-lg-2">
                <p-button type="button" (click)="loadChallanData()" label="Get Data"
                    Class="p-button-text p-button-sm p-button-success" styleClass="p-mr-btn"></p-button>
            </div>
        </div>
        <div class="form-group row" *ngIf="showGrid">
            <div class="col-lg-12"> 
                <div class="fright">
                <p-button type="button" (click)="generateNewChallan()" label="Generate New Challan"
                Class="p-button-text p-button-sm p-button-success" styleClass="p-mr-btn"></p-button>
                 </div>
              <app-grid-renderer  
              [gridRowData]="rowData"  
              [gridColData]="columnDefs" 
              (onCellClickEvent)="onCellClicked($event)">
              </app-grid-renderer>
            </div>
         </div>
    </div>
</section>
<div *ngIf="currentChallan != null">
<p-dialog header="{{currentChallan.challanName}}" [(visible)]="viewPFDialog" [modal]="true" [draggable]="false"
    [resizable]="false" [transitionOptions]="'0ms'" position="top-right" [style]="{width: '60vw',height:'40vw'}">
    <div class="card">
        <div class="card-body">
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">Total Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.totalEmployee}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">PF Gross</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.pfGross}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">PF Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.pf}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">EPF Acc1</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.epfAcc1}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">EPS Acc10</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.epsAcc10}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">PF Admin ChargesAcc2</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.pfAdminChargesAcc2}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">EDLI Acc1</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.edliAcc21}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">EDLI Admin ChargesAcc22</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.edliAdminChargesAcc22}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">EPS Gross</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.epsGross}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">EDLI Gross</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.edliGross}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">Form5 Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.form5Employee}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">Form10 Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.form10Employee}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">Show Hold PF</label>
                </div>
                <div class="col-lg-2">
                    <p-checkbox name="showHoldPF" [disabled]="true" [value]="currentChallan.showHoldPF" [binary]="currentChallan.showHoldPF"  [(ngModel)]="currentChallan.showHoldPF" ></p-checkbox>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">Show Zero PF</label>
                </div>
                <div class="col-lg-2">
                    <p-checkbox name="showZeroPF" [disabled]="true" [value]="currentChallan.showZeroPF"  [binary]="currentChallan.showZeroPF" [(ngModel)]="currentChallan.showZeroPF" ></p-checkbox>
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">EPS Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.epsEmployee}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">Branch Code</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.branchCode}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-8">
                </div>
                <div class="col-lg-4">
                    
                    <p-button type="button" (click)="closeDialog()" label="Close"
                    Class="p-button-text p-button-sm p-button-secondary" styleClass="p-button-secondary"></p-button>
                        &nbsp;&nbsp;&nbsp;
                    <p-button type="button" (click)="regenerateChallan()" label="{{generateLabel}}"
                    Class="p-button-text p-button-sm p-button-success" styleClass="p-mr-btn"></p-button>

                </div>
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog header="{{currentChallan.challanName}}" [(visible)]="viewESIDialog" [modal]="true" [draggable]="false"
    [resizable]="false" [transitionOptions]="'0ms'" position="top-right" [style]="{width: '60vw',height:'25vw'}">
    <div class="card">
        <div class="card-body">
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">Total Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.totalEmployee}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">ESI Gross</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.esiGross}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">ESI Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.esi}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">ESI Employer</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.esiEmployer}}
                </div>
            </div>
            
            <div class="form-group row">
                <div class="col-lg-8">
                </div>
                <div class="col-lg-4">
                    
                    <p-button type="button" (click)="closeDialog()" label="Close"
                    Class="p-button-text p-button-sm p-button-secondary" styleClass="p-button-secondary"></p-button>
                        &nbsp;&nbsp;&nbsp;
                    <p-button type="button" (click)="regenerateChallan()" label="{{generateLabel}}"
                    Class="p-button-text p-button-sm p-button-success" styleClass="p-mr-btn"></p-button>

                </div>
            </div>
        </div>
    </div>
</p-dialog>
<p-dialog header="{{currentChallan.challanName}}" [(visible)]="viewLWFDialog" [modal]="true" [draggable]="false"
    [resizable]="false" [transitionOptions]="'0ms'" position="top-right" [style]="{width: '60vw',height:'25vw'}">
    <div class="card">
        <div class="card-body">
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">Total Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.totalEmployee}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">LWF Gross</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.lwfGross}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">LWF Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.lwf}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">LWF Employer</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.lwfEmployer}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-8">
                </div>
                <div class="col-lg-4">
                    
                    <p-button type="button" (click)="closeDialog()" label="Close"
                    Class="p-button-text p-button-sm p-button-secondary" styleClass="p-button-secondary"></p-button>
                        &nbsp;&nbsp;&nbsp;
                    <p-button type="button" (click)="regenerateChallan()" label="{{generateLabel}}"
                    Class="p-button-text p-button-sm p-button-success" styleClass="p-mr-btn"></p-button>

                </div>
            </div>
        </div>
    </div>
</p-dialog>
<p-dialog header="{{currentChallan.challanName}}" [(visible)]="viewPTDialog" [modal]="true" [draggable]="false"
    [resizable]="false" [transitionOptions]="'0ms'" position="top-right" [style]="{width: '60vw',height:'25vw'}">
    <div class="card">
        <div class="card-body">
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">Total Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.totalEmployee}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="labelfont">PT Gross</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.ptGross}}
                </div>
                <div class="col-lg-2">
                    <label class="labelfont">PT Employee</label>
                </div>
                <div class="col-lg-2">
                    {{currentChallan.pt}}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-8">
                </div>
                <div class="col-lg-4">
                    
                    <p-button type="button" (click)="closeDialog()" label="Close"
                    Class="p-button-text p-button-sm p-button-secondary" styleClass="p-button-secondary"></p-button>
                        &nbsp;&nbsp;&nbsp;
                    <p-button type="button" (click)="regenerateChallan()" label="{{generateLabel}}"
                    Class="p-button-text p-button-sm p-button-success" styleClass="p-mr-btn"></p-button>

                </div>
            </div>
        </div>
    </div>
</p-dialog>
</div>

<p-dialog header="Download Challan" [(visible)]="downloadChallanDialog" [modal]="true"
    [draggable]="false" [resizable]="false" (onHide)="hideDownloadChallanPopup()" [transitionOptions]="'0ms'"position="center" [style]="{width: '50vw',height:'25vw'}" >
        <div  class="card">
          <div class="card-body">
              <div class="form-group row">
                <div class="col-lg-2">
                  <label class="labelfont">File Type<span class="text-danger">*</span></label>
                </div>
                <div class="col-lg-10">
                  <p-dropdown [options]="fileTypes" [(ngModel)]="fileType" [required]="true" optionLabel="key"
                      optionValue="value" name="fileType" id="fileType" class="dropdwonPadding">
                  </p-dropdown>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-lg-2">
                </div>
                <div class="col-lg-10">
                    <p-button type="button" (click)="hideDownloadChallanPopup()" label="Close"
                    Class="p-button-text p-button-sm p-button-secondary" styleClass="p-button-secondary"></p-button>
                     &nbsp;&nbsp;&nbsp;
                    <p-button type="button" (click)="StartDownloading()" label="Download"
                    Class="p-button-text p-button-sm p-button-success" styleClass="p-mr-btn"></p-button>

                </div>
            </div>
          </div>
        </div>
    </p-dialog>